##
## mod_php4 test config
##
<IfModule mod_php4.c>
AddType application/x-httpd-php .php
AddType application/x-httpd-php-source .phps
</IfModule>
<IfDefine APACHE2>
    <IfModule sapi_apache2.c>
        <Files *.php>
            SetOutputFilter PHP
            SetInputFilter PHP
        </Files>
    </IfModule>
</IfDefine>

##
## mod_expires test config
##
<IfModule mod_expires.c>
<Directory @SERVERROOT@/htdocs/modules/expires>
ExpiresActive On
ExpiresDefault "modification plus 10 years 6 months 2 weeks 3 days 12 hours 30 minutes 19 seconds"
ExpiresByType text/plain M60
ExpiresByType image/gif A120
ExpiresByType image/jpeg A86400
</Directory>
</IfModule>

##
## mod_negotiation test config
##
<IfModule mod_mime.c>
AddLanguage en .en
AddLanguage fr .fr
AddLanguage de .de
AddLanguage fu .fu
AddHandler type-map .var

<IfModule mod_negotiation.c>
<IfDefine APACHE1>
CacheNegotiatedDocs
</IfDefine>
<IfDefine APACHE2>
CacheNegotiatedDocs On
</IfDefine>
<Directory @SERVERROOT@/htdocs/modules/negotiation/en>
Options +MultiViews
LanguagePriority en fr de fu
</Directory>
<Directory @SERVERROOT@/htdocs/modules/negotiation/de>
Options +MultiViews
LanguagePriority de en fr fu
</Directory>
<Directory @SERVERROOT@/htdocs/modules/negotiation/fr>
Options +MultiViews
LanguagePriority fr en de fu
</Directory>
<Directory @SERVERROOT@/htdocs/modules/negotiation/fu>
Options +MultiViews
LanguagePriority fu fr en de
</Directory>
</IfModule>
</IfModule>

##
## mod_rewrite test config
##
<IfModule mod_rewrite.c>
RewriteLog @SERVERROOT@/logs/rewrite_log
RewriteLogLevel 9
RewriteLock @SERVERROOT@/logs/rewrite_lock
RewriteMap numbers-txt txt:@SERVERROOT@/htdocs/modules/rewrite/numbers.txt
RewriteMap numbers-rnd rnd:@SERVERROOT@/htdocs/modules/rewrite/numbers.rnd
#RewriteMap numbers-dbm dbm:@SERVERROOT@/htdocs/modules/rewrite/numbers.dbm
RewriteMap numbers-prg prg:@SERVERROOT@/htdocs/modules/rewrite/numbers.pl
RewriteMap lower int:tolower

<Directory @SERVERROOT@/htdocs/modules/rewrite>
RewriteEngine On
RewriteOptions inherit

RewriteRule ^forbidden$ - [F]
RewriteRule ^gone$ - [G]
RewriteRule ^perm$ - [R=permanent]
RewriteRule ^temp$ - [R]
RewriteRule ^313$ - [R=313]
RewriteRule ^test\.blah$ - [T=text/html]

## config for testing >=< conditions
RewriteCond %{HTTP_ACCEPT} =lucky13
RewriteRule ^$ lucky13.html [L]

RewriteCond %{HTTP_ACCEPT} >6
RewriteRule ^$ big.html [L]

RewriteCond %{HTTP_ACCEPT} <1
RewriteRule ^$ zero.html [L]

## config for testing rewrite maps
RewriteCond %{HTTP_ACCEPT} ^(TXT|RND|DBM|PRG)$
RewriteRule ^([1-6])$ - [C,E=MAPTYPE:${lower:%1}]
RewriteCond %{ENV:MAPTYPE} =txt
RewriteRule ^([1-6])$ ${numbers-txt:$1}.html [S=3]
RewriteCond %{ENV:MAPTYPE} =rnd
RewriteRule ^([1-6])$ ${numbers-rnd:$1}.html [S=2]
RewriteCond %{ENV:MAPTYPE} =dbm
RewriteRule ^([1-6])$ ${numbers-dbm:$1}.html [S=1]
RewriteCond %{ENV:MAPTYPE} =prg
RewriteRule ^([1-6])$ ${numbers-prg:$1}.html [L]
</Directory>
</IfModule>

##
## mod_include test config
##
<IfModule mod_include.c>
<IfDefine APACHE1>
AddType text/html .shtml
AddHandler server-parsed .shtml
</IfDefine>
<Directory @SERVERROOT@/htdocs/modules/include>
Options +Includes IncludesNOEXEC
<IfDefine APACHE2>
<Files ~ *.shtml>
SetOutputFilter INCLUDES
</Files>
</IfDefine>
</Directory>
<Directory @SERVERROOT@/htdocs/modules/include/xbithack>
Options +Includes IncludesNOEXEC
XBitHack on
</Directory>
<Directory @SERVERROOT@/htdocs/modules/include/exec>
Options +Includes
</Directory>
</IfModule>

##
## mod_access test config
##
<IfModule mod_access.c>
<Directory @SERVERROOT@/htdocs/modules/access/htaccess>
AllowOverride Limit
</Directory>
</IfModule>

##
## mod_cgi test config
##
<IfModule mod_cgi.c>
AddHandler cgi-script .sh
AddHandler cgi-script .pl
ScriptLog @SERVERROOT@/logs/mod_cgi.log
ScriptLogLength 8192
ScriptLogBuffer 256
<Directory @SERVERROOT@/htdocs/modules/cgi>
Options +ExecCGI
</Directory>
</IfModule>

##
## mod_alias test config
##
<IfModule mod_alias.c>
Alias /alias @SERVERROOT@/htdocs/modules/alias
Alias /bogu /bogus/path/to/nothing

AliasMatch /ali([0-9]) @SERVERROOT@/htdocs/modules/alias/$1.html

Redirect permanent /perm http://@SERVERNAME@:@PORT@/alias
Redirect temp /temp http://@SERVERNAME@:@PORT@/alias
Redirect seeother /seeother http://@SERVERNAME@:@PORT@/alias
Redirect gone /gone

RedirectMatch permanent /p([0-9]) http://@SERVERNAME@:@PORT@/alias/$1.html
RedirectMatch temp /t([0-9]) http://@SERVERNAME@:@PORT@/alias/$1.html
RedirectMatch seeother /s([0-9]) http://@SERVERNAME@:@PORT@/alias/$1.html
RedirectMatch gone /g([0-9])

RedirectTemp /temp2 http://@SERVERNAME@:@PORT@/alias/index.html
RedirectPermanent /perm2 http://@SERVERNAME@:@PORT@/alias/index.html

ScriptAlias /cgi @SERVERROOT@/htdocs/modules/alias
ScriptAliasMatch /cgi-(.*) @SERVERROOT@/htdocs/modules/alias/$1
</IfModule>

##
## mod_headers test config
##
<IfModule mod_headers.c>
<Directory @SERVERROOT@/htdocs/modules/headers/htaccess>
AllowOverride All
</Directory>
</IfModule>
